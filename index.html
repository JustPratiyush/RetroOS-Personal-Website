<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Retro macOS — Abhinav</title>
    <link rel="icon" type="image/png" href="assets/icons/apple.webp" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Pixelify+Sans:wght@400..700&family=VT323&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="styles.css" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tone/14.7.77/Tone.min.js"></script>
  </head>
  <body>
    <!-- BOOT / PRELOAD OVERLAY -->
    <div id="boot-screen" aria-hidden="false">
      <div class="boot-center">
        <div>
          <img src="assets/icons/apple.webp" class="boot-apple" alt="Apple" />
        </div>

        <div
          class="boot-progress-wrap"
          role="progressbar"
          aria-valuemin="0"
          aria-valuemax="100"
        >
          <div id="boot-progress" class="boot-progress"></div>
        </div>

        <div id="boot-percent" class="boot-percent">0%</div>

        <button
          id="boot-enter"
          class="boot-enter"
          aria-hidden="true"
          style="display: none"
        >
          ENTER
        </button>

        <div id="boot-caption" class="boot-caption">Starting RetroOS...</div>
      </div>
    </div>

    <div class="grain"></div>

    <div id="icon-readme" class="desktop-icon" style="top: 80px; left: 20px">
      <img src="assets/icons/TxtIcon.webp" alt="ReadMe" />
      <span>ReadMe.txt</span>
    </div>
    <div id="icon-projects" class="desktop-icon" style="top: 180px; left: 20px">
      <img src="assets/icons/folderIcon.webp" alt="Projects" />
      <span>Projects</span>
    </div>

    <div id="readme-container"></div>
    <div id="projects-container"></div>

    <div class="top-bar">
      <div class="left">
        <div
          class="icon"
          data-menu="appleMenu"
          onclick="toggleMenu('appleMenu', this)"
        >
          <img src="assets/icons/apple.webp" class="logo" alt="Apple" />
        </div>
        <div
          class="icon"
          data-menu="fileMenu"
          onclick="toggleMenu('fileMenu', this)"
        >
          File
        </div>
        <div
          class="icon"
          data-menu="editMenu"
          onclick="toggleMenu('editMenu', this)"
        >
          Edit
        </div>
        <div
          class="icon"
          data-menu="viewMenu"
          onclick="toggleMenu('viewMenu', this)"
        >
          View
        </div>
      </div>
      <!-- This is the new container for the right-side icons -->
      <div class="right-icons">
        <div class="status-icon">
          <img src="assets/icons/wifi.png" alt="Wi-Fi" />
        </div>
        <div id="battery-icon" class="status-icon battery">
          <div id="battery-level" class="battery-level"></div>
        </div>
        <div class="clock" id="clock" onclick="openWindow('clockApp')">
          --:--
        </div>
      </div>
    </div>

    <div id="appleMenu" class="menu">
      <div onclick="menuAction('About This Mac')">About This Mac</div>
      <div onclick="menuAction('System Info')">System Info</div>
      <div onclick="openWindow('settings'); closeAllMenus();">Settings</div>
      <div onclick="menuAction('Licenses')">Licenses</div>
      <div onclick="menuAction('Shut Down')">Shut Down</div>
    </div>
    <div id="fileMenu" class="menu">
      <div onclick="menuAction('New Document')">New</div>
      <div onclick="menuAction('Open...')">Open</div>
      <div onclick="menuAction('Save')">Save</div>
    </div>
    <div id="editMenu" class="menu">
      <div onclick="menuAction('Undo')">Undo</div>
      <div onclick="menuAction('Cut')">Cut</div>
      <div onclick="menuAction('Copy')">Copy</div>
      <div onclick="menuAction('Paste')">Paste</div>
    </div>
    <div id="viewMenu" class="menu">
      <div onclick="menuAction('Zoom In')">Zoom In</div>
      <div onclick="menuAction('Zoom Out')">Zoom Out</div>
      <div onclick="menuAction('Full Screen')">Full Screen</div>
    </div>

    <div class="dock">
      <div
        class="dock-icon"
        data-app="finder"
        onclick="openWindow('finder')"
        oncontextmenu="dockContext(event,'finder')"
      >
        <img src="assets/icons/finder.webp" alt="Finder" />
        <span class="label">Finder</span>
      </div>
      <div
        class="dock-icon"
        data-app="internet"
        onclick="openWindow('internet')"
        oncontextmenu="dockContext(event,'internet')"
      >
        <img src="assets/icons/internet.webp" alt="Internet" />
        <span class="label">Internet</span>
      </div>

      <div
        class="dock-icon"
        data-app="calculator"
        onclick="openWindow('calculator')"
        oncontextmenu="dockContext(event,'calculator')"
      >
        <img src="assets/icons/calculator.webp" alt="Calculator" />
        <span class="label">Calculator</span>
      </div>
      <div
        class="dock-icon"
        data-app="music"
        onclick="openWindow('music')"
        oncontextmenu="dockContext(event,'music')"
      >
        <img src="assets/icons/music.webp" alt="Music" />
        <span class="label">Music</span>
      </div>
      <div
        class="dock-icon"
        data-app="mail"
        onclick="openWindow('mail')"
        oncontextmenu="dockContext(event, 'mail')"
      >
        <img src="assets/icons/mail.webp" alt="mail" />
        <span class="label">Mail</span>
      </div>
      <div
        class="dock-icon"
        data-app="coffee"
        onclick="openWindow('coffee')"
        oncontextmenu="dockContext(event, 'coffee')"
      >
        <img src="assets/icons/pizza.png" alt="coffee" />
        <span class="label">Pizza</span>
      </div>

      <div
        class="dock-icon"
        data-app="terminal"
        onclick="openWindow('terminal')"
        oncontextmenu="dockContext(event, 'terminal')"
      >
        <img src="assets/icons/terminal.png" alt="Terminal" />
        <span class="label">Terminal</span>
      </div>

      <div
        class="dock-icon"
        data-app="trash"
        onclick="openWindow('trash')"
        oncontextmenu="dockContext(event, 'trash')"
      >
        <img src="assets/icons/trash.png" alt="Trash" />
        <span class="label">Trash</span>
      </div>
    </div>

    <!-- (rest is unchanged windows/apps) -->
    <div
      id="finder"
      class="window"
      style="display: none; left: 100px; top: 80px; width: 600px; height: 400px"
    >
      <div class="title">
        <span>Finder</span>
        <span class="controls">
          <span
            class="ctrl ctrl-min"
            title="Minimize"
            onclick="minimizeWindow('finder')"
            >−</span
          >
          <span
            class="ctrl ctrl-close"
            title="Close"
            onclick="closeWindow('finder')"
            >×</span
          >
        </span>
      </div>
      <div class="content finder-content">
        <div class="finder-sidebar">
          <div
            class="sidebar-item active"
            onclick="renderFinderContent('desktop')"
          >
            Desktop
          </div>
          <div class="sidebar-item" onclick="renderFinderContent('documents')">
            Documents
          </div>
          <div class="sidebar-item" onclick="renderFinderContent('downloads')">
            Downloads
          </div>
        </div>
        <div class="finder-main"></div>
      </div>
    </div>

    <div
      id="music"
      class="window"
      style="display: none; left: 250px; top: 150px; width: 320px"
    >
      <div class="title">
        <span>Music</span>
        <span class="controls">
          <span
            class="ctrl ctrl-min"
            title="Minimize"
            onclick="minimizeWindow('music')"
            >−</span
          >
          <span
            class="ctrl ctrl-close"
            title="Close"
            onclick="closeWindow('music')"
            >×</span
          >
        </span>
      </div>
      <div class="content music-player">
        <div class="album-art">
          <img
            src="assets/icons/dog.webp"
            alt="Album Art"
            onerror="this.src='https://placehold.co/150x150/000000/FFFFFF?text=RetroDog'"
          />
        </div>
        <div class="track-info">
          <div id="songTitle" class="song-title">Pixel Dog Bop</div>
          <div id="songArtist" class="song-artist">DJ Abhinav</div>
        </div>
        <div class="music-controls">
          <button id="prevBtn">|◀</button>
          <button id="playPauseBtn">▶</button>
          <button id="nextBtn">▶|</button>
        </div>
        <div id="musicStatus" style="font-size: 12px; opacity: 0.8"></div>
      </div>
    </div>

    <div
      id="calculator"
      class="window"
      style="display: none; left: 60px; top: 180px"
    >
      <div class="title">
        <span>Calculator</span>
        <span class="controls">
          <span
            class="ctrl ctrl-min"
            title="Minimize"
            onclick="minimizeWindow('calculator')"
            >−</span
          >
          <span
            class="ctrl ctrl-close"
            title="Close"
            onclick="closeWindow('calculator')"
            >×</span
          >
        </span>
      </div>
      <div class="content">
        <input
          id="calcDisplay"
          readonly
          style="width: 100%; font-size: 18px; padding: 6px; margin-bottom: 8px"
        />
        <div
          style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 5px"
        >
          <button onclick="calcInput('^')">^</button>
          <button onclick="calcInput('√')">√</button>
          <button onclick="calcInput('%')">%</button>
          <button onclick="calcInput('*')">*</button>
          <button onclick="calcInput('7')">7</button>
          <button onclick="calcInput('8')">8</button>
          <button onclick="calcInput('9')">9</button>
          <button onclick="calcInput('/')">/</button>
          <button onclick="calcInput('4')">4</button>
          <button onclick="calcInput('5')">5</button>
          <button onclick="calcInput('6')">6</button>
          <button onclick="calcInput('+')">+</button>
          <button onclick="calcInput('1')">1</button>
          <button onclick="calcInput('2')">2</button>
          <button onclick="calcInput('3')">3</button>
          <button onclick="calcInput('-')">-</button>
          <button onclick="clearCalc()">AC</button>
          <button onclick="calcInput('0')">0</button>
          <button onclick="calcInput('.')">.</button>
          <button onclick="calculate()">=</button>
        </div>
      </div>
    </div>

    <!-- This is the new window for the Mail app -->
    <div
      id="mail"
      class="window"
      style="
        display: none;
        left: 150px;
        top: 120px;
        width: 550px;
        height: 450px;
      "
    >
      <div class="title">
        <span>New Message</span>
        <span class="controls">
          <span
            class="ctrl ctrl-min"
            title="Minimize"
            onclick="minimizeWindow('mail')"
            >−</span
          >
          <span
            class="ctrl ctrl-close"
            title="Close"
            onclick="closeWindow('mail')"
            >×</span
          >
        </span>
      </div>
      <div class="content mail-content">
        <!-- Your Formspree form, styled for the app -->
        <!-- Your Formspree form, updated for subject and file uploads -->
        <form
          action="https://formspree.io/f/mdkdqlol"
          method="POST"
          enctype="multipart/form-data"
        >
          <div class="mail-header">
            <label>To:</label>
            <input type="text" value="Abhinav Kuchhal(Me)" readonly />
          </div>
          <div class="mail-header">
            <label for="email-from">From:</label>
            <input
              id="email-from"
              type="email"
              name="email"
              placeholder="your-email@example.com"
              required
            />
          </div>

          <!-- New Subject Field -->
          <div class="mail-header">
            <label for="email-subject">Subject:</label>
            <input
              id="email-subject"
              type="text"
              name="subject"
              placeholder="Regarding your awesome project..."
              required
            />
          </div>
          <div class="mail-body">
            <textarea
              name="message"
              placeholder="Your message..."
              required
            ></textarea>
          </div>
          <div class="mail-footer">
            <button type="submit">Send Message</button>
          </div>
        </form>
      </div>
    </div>

    <div
      id="coffee"
      class="window"
      style="display: none; left: 200px; top: 200px; width: 380px"
    >
      <div class="title">
        <span>Support My Work</span>
        <span class="controls">
          <span
            class="ctrl ctrl-close"
            title="Close"
            onclick="closeWindow('coffee')"
            >×</span
          >
        </span>
      </div>
      <div class="content coffee-content">
        <p>
          If you enjoy this project, please consider supporting me with a pizza.
          It helps me create more cool stuff like this!
        </p>

        <!-- The updated button structure -->
        <button class="buy-me-a-pizza-button">
          <a
            href="https://www.buymeacoffee.com/justpratiyush"
            target="_blank"
            rel="noopener noreferrer"
          >
            🍕 Buy me a pizza
          </a>
        </button>
      </div>
    </div>

    <div
      id="settings"
      class="window"
      style="display: none; left: 300px; top: 320px"
    >
      <div class="title">
        <span>Settings</span>
        <span class="controls">
          <span
            class="ctrl ctrl-min"
            title="Minimize"
            onclick="minimizeWindow('settings')"
            >−</span
          >
          <span
            class="ctrl ctrl-close"
            title="Close"
            onclick="closeWindow('settings')"
            >×</span
          >
        </span>
      </div>
      <div class="content">
        <div style="margin-bottom: 8px">Wallpaper:</div>
        <button onclick="setWallpaper('classic')">Classic</button>
        <button onclick="setWallpaper('alt')">Alternate</button>
        <div style="margin-top: 12px">Effects:</div>
        <label
          ><input
            type="checkbox"
            id="grayscaleToggle"
            onchange="toggleGrayscale(this.checked)"
          />Grayscale wallpaper</label
        >
      </div>
    </div>

    <div
      id="clockApp"
      class="window"
      style="
        display: none;
        width: 320px;
        left: 50%;
        top: 50%;
        transform: translate(-50%, -50%);
      "
    >
      <div class="title">
        <span>Clock</span>
        <span class="controls">
          <span
            class="ctrl ctrl-close"
            title="Close"
            onclick="closeWindow('clockApp')"
            >×</span
          >
        </span>
      </div>
      <div
        class="content"
        style="
          padding: 5px;
          background: #f0f0f0;
          border-radius: 0 0 5px 5px;
          text-align: center;
        "
      >
        <div id="bigClock" class="big-clock-display"></div>
      </div>
    </div>

    <div
      id="trash"
      class="window"
      style="
        display: none;
        left: 840px;
        top: 140px;
        width: 400px;
        height: 300px;
      "
    >
      <div class="title">
        <span>Trash</span
        ><span class="controls"
          ><span
            class="ctrl ctrl-close"
            title="Close"
            onclick="closeWindow('trash')"
            >×</span
          ></span
        >
      </div>
      <div class="content" id="trashContent" style="padding: 15px"></div>
    </div>

    <div
      id="internet"
      class="window"
      style="display: none; left: 150px; top: 150px; width: 480px"
    >
      <div class="title">
        <span>Internet</span
        ><span class="controls"
          ><span
            class="ctrl ctrl-min"
            title="Minimize"
            onclick="minimizeWindow('internet')"
            >−</span
          ><span
            class="ctrl ctrl-close"
            title="Close"
            onclick="closeWindow('internet')"
            >×</span
          ></span
        >
      </div>
      <div class="content internet-content">
        <div class="snoogle-header">
          <img src="assets/icons/snoogle.webp" alt="Snoogle Logo" />
        </div>
        <form id="internetSearchForm">
          <input
            type="text"
            id="internetSearchInput"
            placeholder="Search or type a URL"
          />
        </form>
        <div class="favourites-section">
          <div class="favourites-title">Follow me here!</div>
          <div class="favourites-container">
            <a
              href="https://x.com/JustPratiyush"
              target="_blank"
              class="favourite-item"
              ><img src="assets/icons/twitter.webp" alt="Twitter" /><span
                class="favourite-label"
                >Twitter</span
              ></a
            >
            <a
              href="https://www.instagram.com/justpratiyush/"
              target="_blank"
              class="favourite-item"
              ><img src="assets/icons/instagram.webp" alt="Instagram" /><span
                class="favourite-label"
                >Instagram</span
              ></a
            >
            <a
              href="https://www.youtube.com/@JustPratiyush"
              target="_blank"
              class="favourite-item"
              ><img src="assets/icons/youtube.webp" alt="Youtube" /><span
                class="favourite-label"
                >Youtube</span
              ></a
            >
            <a
              href="https://www.linkedin.com/in/abhinav-kuchhal/"
              target="_blank"
              class="favourite-item"
              ><img src="assets/icons/linkedin.webp" alt="LinkedIn" /><span
                class="favourite-label"
                >LinkedIn</span
              ></a
            >
            <a
              href="https://github.com/JustPratiyush"
              target="_blank"
              class="favourite-item"
              ><img src="assets/icons/github.webp" alt="GitHub" /><span
                class="favourite-label"
                >GitHub</span
              ></a
            >
          </div>
        </div>
      </div>
    </div>

    <!-- Main Script Files -->
    <script src="js/apps/calculator.js" defer></script>
    <script src="js/apps/music.js" defer></script>
    <script src="js/apps/finder.js" defer></script>
    <script src="js/apps/trash.js" defer></script>
    <script src="js/main.js" defer></script>

    <!-- Vercel Analytics -->

    <script>
      window.va =
        window.va ||
        function () {
          (window.vaq = window.vaq || []).push(arguments);
        };
    </script>
    <script src="/_vercel/insights/script.js"></script>
  </body>
</html>
